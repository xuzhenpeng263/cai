.use_base_container: &use_base_container
  stage: test
  image: "${CI_REGISTRY_IMAGE}:latest"
  services:
    - name: docker:dind
      alias: docker

.run_test: &run_test
  <<: *use_base_container
  script:
    - pip3 install -e .
    - pytest -s $TEST_PATH
  tags:
    - p40
    - x86
  rules:
    - if: $CI_COMMIT_BRANCH
      when: on_success

ðŸ› ï¸ tools test_function_tool_decorator:
  <<: *run_test
  variables:
    TEST_PATH: tests/tools/test_function_tool_decorator.py

ðŸ¤– agents test_agent_config:
  <<: *run_test
  variables:
    TEST_PATH: tests/agents/test_agent_config.py
